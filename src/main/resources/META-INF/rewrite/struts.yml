#
# Copyright 2024 the original author or authors.
# <p>
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# <p>
# https://www.apache.org/licenses/LICENSE-2.0
# <p>
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
type: specs.openrewrite.org/v1beta/recipe
name: org.apache.struts.MigrateStruts6
displayName: Migrate to Struts 6
description: Migrate Struts 2 to Struts 6
recipeList:
  - org.apache.java.struts.MigrateAwareInterfaces
  - org.apache.struts.UpgradeStruts6Dependencies
---
type: specs.openrewrite.org/v1beta/recipe
name: org.apache.struts.UpgradeStruts6Dependencies
displayName: Upgrade Struts 6 dependencies
description: Upgrade Struts 2 dependencies to Struts 6
recipeList:
  - org.openrewrite.maven.upgrade.UpgradeDependencyVersion:
      groupId: org.apache.struts
      artifactId: *
      newVersion: 6.x
---
type: specs.openrewrite.org/v1beta/recipe
name: org.apache.java.struts.MigrateAwareInterfaces
displayName: Migrate Struts 2 interceptors to action "aware" interfaces
description: These types have moved to a new package in Struts 6.
recipeList:
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.ApplicationAware
      newFullyQualifiedTypeName: org.apache.struts2.action.ApplicationAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.CookiesAware
      newFullyQualifiedTypeName: org.apache.struts2.action.CookiesAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.HttpParametersAware
      newFullyQualifiedTypeName: org.apache.struts2.action.ParametersAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.ParameterAware
      newFullyQualifiedTypeName: org.apache.struts2.action.ParametersAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.PrincipalAware
      newFullyQualifiedTypeName: org.apache.struts2.action.PrincipalAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.RequestAware
      newFullyQualifiedTypeName: org.apache.struts2.action.ServletRequestAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.ServletRequestAware
      newFullyQualifiedTypeName: org.apache.struts2.action.ServletRequestAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.ServletResponseAware
      newFullyQualifiedTypeName: org.apache.struts2.action.ServletResponseAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.interceptor.SessionAware
      newFullyQualifiedTypeName: org.apache.struts2.action.SessionAware
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.apache.struts2.util.ServletContextAware
      newFullyQualifiedTypeName: org.apache.struts2.action.ServletContextAware
